window.addEventListener("DOMContentLoaded",()=>{const t=document.querySelectorAll(".tabheader__item"),s=document.querySelectorAll(".tabcontent"),e=document.querySelector(".tabheader__items");function n(){s.forEach(e=>{e.classList.add("hide"),e.classList.remove("show","fade")}),t.forEach(e=>{e.classList.remove("tabheader__item_active")})}function a(e=0){s[e].classList.add("show","fade"),s[e].classList.remove("hide"),t[e].classList.add("tabheader__item_active")}n(),a(),e.addEventListener("click",e=>{const s=e.target;s&&s.classList.contains("tabheader__item")&&t.forEach((e,t)=>{s==e&&(n(),a(t))})});{var i=".timer",r="2023-05-20";const _=document.querySelector(i),f=_.querySelector("#days"),p=_.querySelector("#hours"),L=_.querySelector("#minutes"),y=_.querySelector("#seconds"),g=setInterval(c,1e3);function o(e){return 0<=e&&e<10?"0"+e:e}function c(){var e=function(e){let t,s,n,a;return e=Date.parse(e)-Date.parse(new Date),a=e<=0?(t=0,s=0,n=0):(t=Math.floor(e/864e5),s=Math.floor(e/36e5%24),n=Math.floor(e/6e4%60),Math.floor(e/1e3%60)),{total:e,days:t,hours:s,minutes:n,seconds:a}}(r);f.innerHTML=o(e.days),p.innerHTML=o(e.hours),L.innerHTML=o(e.minutes),y.innerHTML=o(e.seconds),e.total<0&&clearInterval(g)}c()}const d=document.querySelectorAll("[data-modal]"),l=document.querySelectorAll("[data-close]"),u=document.querySelector(".modal");function m(){u.classList.toggle("hide"),document.body.style.overflow=""}d.forEach(e=>{e.addEventListener("click",()=>{u.classList.toggle("hide"),document.body.style.overflow="hidden"})}),l.forEach(e=>{e.addEventListener("click",m)}),u.addEventListener("click",e=>{e.target==u&&m()}),document.addEventListener("keydown",e=>{"Escape"!=e.code||u.classList.contains("hide")||m()});class h{constructor(e,t,s,n,a,i,...r){this.src=e,this.alt=t,this.title=s,this.descr=n,this.price=a,this.classes=r,this.parent=document.querySelector(i),this.transfer=27,this.ChangeToUAH()}ChangeToUAH(){this.price+=this.transfer}render(){const t=document.createElement("div");0===this.classes.length?(this.el="menu__item",t.classList.add(this.el)):this.classes.forEach(e=>t.classList.add(e)),t.innerHTML=`
                    <img src=${this.src} alt=${this.alt}>
                    <h3 class="menu__item-subtitle">${this.title}</h3>
                    <div class="menu__item-descr">${this.descr}</div>
                    <div class="menu__item-divider"></div>
                    <div class="menu__item-price">
                        <div class="menu__item-cost">Цена:</div>
                        <div class="menu__item-total"><span>${this.price}</span> грн/день</div>
                    </div>
            `,this.parent.append(t)}}new h("images/tabs/vegy.jpg","vegy",'Меню "Фитнес"','Меню "Фитнес" - это новый подход к приготовлению блюд: больше свежих овощей и фруктов. Продукт активных и здоровых людей. Это абсолютно новый продукт с оптимальной ценой и высоким качеством!',9,".menu .container").render(),new h("images/tabs/elite.jpg","elite",'Меню "“Премиум”"',"В меню “Премиум” мы используем не только красивый дизайн упаковки, но и качественное исполнение блюд. Красная рыба, морепродукты, фрукты - ресторанное меню без похода в ресторан!",14,".menu .container","menu__item").render(),new h("images/tabs/post.jpg","post",'Меню "Постное"',"Меню “Постное” - это тщательный подбор ингредиентов: полное отсутствие продуктов животного происхождения, молоко из миндаля, овса, кокоса или гречки, правильное количество белков за счет тофу и импортных вегетарианских стейков.",21,".menu .container","menu__item").render();i=document.querySelectorAll(".form");const v={loading:"Загрузка",failure:"Ошибка",success:"Успешно"};i.forEach(e=>{var n;(n=e).addEventListener("submit",e=>{e.preventDefault();const t=document.createElement("div"),s=(t.textContent=v.loading,n.append(t),new XMLHttpRequest);s.open("POST","./server.php"),s.setRequestHeader("Content-type","multipart/form-data");e=new FormData(n);s.send(e),s.addEventListener("load",()=>{200===s.status?(console.log(s.response),t.textContent=v.success):t.textContent=v.failure})})})});